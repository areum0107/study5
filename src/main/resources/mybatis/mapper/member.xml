<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <!-- namespace : 간단하게 해도 됨. 단, mapper클래스를 사용하려면 완전한 이름의 클래스이름을 지정 -->
<mapper namespace="com.study.member.dao.IMemberDao">
  
  <select id="getMemberList" resultType="com.study.member.vo.MemberVO" parameterType="com.study.member.vo.MemberSearchVO">
  	
  	SELECT mem_id   , mem_pass  , mem_name   		 
	     , TO_CHAR(mem_bir,'YYYY-MM-DD') AS mem_bir   
	     , mem_zip   , mem_add1 
	     , mem_add2 , mem_hp    , mem_mail 	
	     , mem_job 							
	     , b.comm_nm as mem_job_nm  		
	     , mem_like 						
	     , c.comm_nm as mem_like_nm 		
	     , mem_mileage   					
	     , mem_delete              			
	  FROM member a left join comm_code b  on (a.mem_job = b.comm_cd ) 
	                left join comm_code c on (a.mem_like = c.comm_cd ) 
	  WHERE (mem_delete = 'N' or mem_delete is null)	 
	  ORDER BY mem_id DESC
  </select>
  
</mapper>